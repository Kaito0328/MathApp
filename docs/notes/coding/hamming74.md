# Hamming(7,4)（coding/src/hamming.rs）

## 背景知識
長さ7・次元4の古典的ハミング符号である。生成行列 G=[I|P]、パリティ検査行列 H=[P^T|I] を用いると、シンドローム s=H·c^T が各単一誤り位置に一意対応するため 1ビット誤り訂正が可能である。教材や基本的な誤り訂正の可視化に広く用いられる。

## 入力例と出力例
例（概念）。入力 u=(1,0,1,1)（GF(2)）。内部に保持する標準生成行列 G を用い、出力は c=u·G（長さ7の符号語）である。

## アルゴリズム
本実装は符号化のみを提供する。生成行列 G は既定の標準形を保持しており、入力 u に対し c = u·G を体 GF(2) 上で計算する。

手順の詳説は以下のとおりである。
- G は 4×7 の標準形 G=[I_4 | P] であり、c_j は u と G の j 列の内積（GF(2)）で求まる。
- 実装上は二重ループで XOR/AND を用いるか、ビットパックして AND→popcount→mod2 で求める。

```text
# G: 4 x 7, u: 1 x 4
c = zeros(7)
for j in 0..6:
	acc = 0
	for i in 0..3:
		acc += u[i] * G[i,j]   # GF(2) なので加算は XOR, 乗算は AND
	c[j] = acc
return c
```

制約と注意.
- 入力 u は GF(2) に属する長さ 4 のベクトルである。ビット以外の値を受け付けない実装であれば入力検証が必要である。
- 復号は本ノートの範囲外であるが、標準の H=[P^T | I_3] によりシンドロームで単一誤り訂正が可能である。

計算量の目安.
- 符号化は O(4·7) で一定時間である。ビットパック時はほぼ O(7) の軽量演算になる。
